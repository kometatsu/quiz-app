{"version":3,"sources":["Button/Button.jsx","Home/Home.jsx","date-fetchers/QuizFetchers.js","models/Quiz.js","Quiz/Quiz.jsx","App.jsx","index.js"],"names":["Button","props","onClickHandler","className","onClick","children","Home","history","push","QuizFetcher","axios","get","response","data","Quiz","question","correctAnswer","incorrectAnswers","this","_question","_correctAnswer","_incorrectAnswers","_","shuffle","answer","fetch","quizDataList","results","map","result","he","decode","correct_answer","incorrect_answers","str","quizData","state","quizzes","currentIndex","numberOfCorrects","restart","setState","QuizModel","fetchAndCreateQuizzes","console","log","quiz","judgeCorrectAnswer","alert","length","renderLoading","renderQuiz","renderResult","to","answers","shuffleAnswers","index","key","selectAnswer","id","React","Component","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a266866c.chunk.js","sourcesContent":["import React from \"react\";\nimport \"./Button.css\";\n\nconst Button = (props) => {\n  let { onClickHandler } = props;\n\n  if (typeof onClickHandler !== \"function\") {\n    onClickHandler = () => {};\n  }\n\n  return (\n    <span className=\"Button\" onClick={onClickHandler}>\n      {props.children}\n    </span>\n  );\n};\n\nexport default Button;\n","import React from \"react\";\nimport Button from \"../Button/Button\";\n\nconst Home = ({ history }) => {\n  return (\n    <div>\n      <h1>ホーム</h1>\n      <Button\n        onClickHandler={() => {\n          history.push(\"/quiz\");\n        }}\n      >\n        クイズページへ移動\n      </Button>\n    </div>\n  );\n};\nexport default Home;\n","import axios from \"axios\";\n\nconst API_URL = \"https://opentdb.com/api.php?amount=10&type=multiple\";\n\nclass QuizFetcher {\n  static async fetch() {\n    const response = await axios.get(API_URL);\n    return response.data;\n  }\n}\nexport default QuizFetcher;\n","import _ from \"lodash\";\nimport he from \"he\";\nimport QuizFetcher from \"../date-fetchers/QuizFetchers\";\n\nclass Quiz {\n  constructor({ question, correctAnswer, incorrectAnswers }) {\n    this._question = question;\n    this._correctAnswer = correctAnswer;\n    this._incorrectAnswers = [...incorrectAnswers];\n  }\n\n  get question() {\n    return this._question;\n  }\n\n  get correctAnswer() {\n    return this._correctAnswer;\n  }\n\n  shuffleAnswers() {\n    return _.shuffle([this._correctAnswer, ...this._incorrectAnswers]);\n  }\n\n  judgeCorrectAnswer(answer) {\n    return answer === this._correctAnswer;\n  }\n\n  static async fetchAndCreateQuizzes() {\n    const quizDataList = await QuizFetcher.fetch();\n\n    return quizDataList.results\n      .map((result) => {\n        return {\n          question: he.decode(result.question),\n          correctAnswer: he.decode(result.correct_answer),\n          incorrectAnswers: result.incorrect_answers.map((str) =>\n            he.decode(str)\n          )\n        };\n      })\n      .map((quizData) => {\n        return new Quiz(quizData);\n      });\n  }\n}\nexport default Quiz;\n","import React from \"react\";\nimport QuizModel from \"../models/Quiz\";\nimport Button from \"../Button/Button\";\nimport { Link } from \"react-router-dom\";\nimport \"./Quiz.css\";\n\nclass Quiz extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      quizzes: [],\n      currentIndex: 0,\n      numberOfCorrects: 0\n    };\n  }\n\n  async componentDidMount() {\n    await this.restart();\n  }\n\n  async restart() {\n    this.setState({\n      quizzes: [],\n      currentIndex: 0,\n      numberOfCorrects: 0\n    });\n\n    const quizzes = await QuizModel.fetchAndCreateQuizzes();\n\n    console.log(quizzes, \"@@@@@\");\n    this.setState({ quizzes });\n  }\n\n  selectAnswer(quiz, answer) {\n    let { currentIndex, numberOfCorrects } = this.state;\n    const isCorrect = quiz.judgeCorrectAnswer(answer);\n\n    if (isCorrect) {\n      numberOfCorrects++;\n      alert(\"Correct answer!!!\");\n    } else {\n      alert(`Wrong answer... (The correct answer is )\"${quiz.correctAnswer}\"`);\n    }\n    currentIndex++;\n\n    this.setState({\n      currentIndex,\n      numberOfCorrects\n    });\n  }\n\n  render() {\n    const { quizzes, currentIndex } = this.state;\n\n    //　読み込み中\n    if (quizzes.length === 0) {\n      return this.renderLoading();\n    }\n\n    // クイズ中\n\n    if (quizzes.length > 0 && currentIndex < quizzes.length) {\n      return this.renderQuiz();\n    }\n\n    // クイズ結果\n    if (quizzes.length > 0 && currentIndex >= quizzes.length) {\n      return this.renderResult();\n    }\n\n    return <h1>QuizPage</h1>;\n  }\n\n  renderLoading() {\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <p>Now loading...</p>\n        <hr />\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  renderQuiz() {\n    const { currentIndex, quizzes } = this.state;\n\n    const quiz = quizzes[currentIndex];\n    const answers = quiz.shuffleAnswers().map((answer, index) => {\n      return (\n        <li key={index}>\n          <Button\n            onClickHandler={() => {\n              this.selectAnswer(quiz, answer);\n            }}\n          >\n            {answer}\n          </Button>\n        </li>\n      );\n    });\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p>{quiz.question}</p>\n          <ul className=\"QuizList\">{answers}</ul>\n        </div>\n        <hr />\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n\n  renderResult() {\n    const { quizzes, numberOfCorrects } = this.state;\n\n    return (\n      <div>\n        <h1>クイズページ</h1>\n        <div>\n          <p id=\"result\">{`${numberOfCorrects}/${quizzes.length} corrects.`}</p>\n          <Button\n            onClickHandler={() => {\n              this.restart();\n            }}\n          >\n            Restart\n          </Button>\n        </div>\n        <hr />\n        <Link to=\"/\">トップページへ</Link>\n      </div>\n    );\n  }\n}\n\nexport default Quiz;\n","import React from \"react\";\nimport { HashRouter as Router, Route } from \"react-router-dom\";\nimport Home from \"./Home/Home\";\nimport Quiz from \"./Quiz/Quiz\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Route path=\"/\" exact component={Home} />\n        <Route path=\"/quiz\" exact component={Quiz} />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}